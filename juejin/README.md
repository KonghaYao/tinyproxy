# 掘金数据分析项目

此项目通过 api 获取了掘金网站的公开文章信息，并进行数据分析与重新排序，尝试做一下最好的数据检索方式

> 本项目所获取的文章数据皆为公开数据，数据集包含文章标题、作者、文章简介等公开信息，不包含文章具体内容与评论信息。爬虫遵守 robots.txt，原始数据来自 [掘金官网](https://juejin.cn/?sort=newest)。数据仅为教育学习用途，禁止将其用于商业或其他非法用途。请您在使用数据前，自行核实数据的正确性并仔细了解可能存在的风险。同时，您必须遵守有关法规，不得侵犯他人的知识产权，否则后果自负。

## 目标

1. 获取掘金公开文章相关的简介索引
2. 这个数据集存储至 huggingface、kaggle
3. 这个数据集不包含文章的具体内容，那样太大了，只包含一些必要信息
4. 进行数据分析
    1. 用户的文章阅读量统计，并排序
    2. 标签的重新统计和排序

## 关于数据获取

1. 首页的文章列表可以爬取 json 数据，里面简化了文章，给了浏览量、点赞数等重要信息
2. 根据json格式，定义 postgres，应该会用 bit.io 存储，100 G 存量不太可能用完
3. 使用 github codespace 安装 deno (deno 要比node好用一点)
4. 写爬虫控制脚本，速度不用快,可以并行，这边使用串行下载，掘金限制不大
5. 爬虫先用 jsonl 格式存一波，流式存取也挺快
6. 上传到 postgres 需要还原几张表，依次存进去，检测重复数据很重要，不要忘记
7. 另外压缩一份文件，大小适合存储

## 获取结果

1. 获取数据 2023/5/5：
    1. 压缩前 data/*.jsonl 1.3G
    2. 压缩后 [data.tar.gz 192 MB](https://huggingface.co/datasets/KonghaYao/juejin_article_intro/tree/main) 
2. 获取到数据皆为 json 数据，以 jsonl 存储
3. 使用 jsonl 数据： 通过流式读取每一行的方式读取文件，防止内存爆炸

## 数据处理操作

1. 统计用户所发布的文章阅读数，点赞数
2. 根据阅读数，点赞数生成排行榜列表
